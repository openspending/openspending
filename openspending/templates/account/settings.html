{% extends "base.html" %}

{% block page_title %}{% trans %}Settings for:{% endtrans %} {{ current_user.name }}{% endblock %}

{% block content %}
<h2 class="page-header">
  {% trans %}Account Settings{% endtrans %}
  <small>
    {{ current_user.fullname }}
  </small>
</h2>

<div class="row">
  <div class="col-sm-offset-2 col-sm-10">
    {% formfill form_fill with form_errors %}
    <form class="form-horizontal" id="settings" action="{{ url_for('account.settings_save') }}" method="POST">
      <div class="form-group">
        <label for="fullname" class="col-sm-2 control-label">
          {% trans %}Fullname{% endtrans %}
        </label>
        <div class="col-sm-10">
          <input name="fullname" class="form-control">
        </div>
      </div>
      <div class="form-group">
        <label for="email" class="col-sm-2 control-label">
          {% trans %}Email{% endtrans %}
        </label>
        <div class="col-sm-10">
          <input name="email" class="form-control">
        </div>
      </div>
      <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
          <div class="checkbox">
            <label>
              <input name="public_email" type="checkbox">
              {% trans %}Visible to users{% endtrans %}
            </label>
          </div>
        </div>
      </div>
      <div class="form-group">
        <label for="email" class="col-sm-2 control-label">
          Twitter
        </label>
        <div class="col-sm-10">
          <input name="twitter" class="form-control">
        </div>
      </div>
      <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
          <div class="checkbox">
            <label>
              <input name="public_twitter" type="checkbox">
              {% trans %}Visible to users{% endtrans %}
            </label>
          </div>
        </div>
      </div>
      <div class="form-group">
        <label for="password1" class="col-sm-2 control-label">
          {% trans %}Password{% endtrans %}
        </label>
        <div class="col-sm-10">
          <input name="password1" type="password" autocomplete="off" class="form-control" />
        </div>
      </div>
      <div class="form-group">
        <label for="password2" class="col-sm-2 control-label">
          {% trans %}Password (repeat){% endtrans %}
        </label>
        <div class="col-sm-10">
          <input name="password2" type="password" autocomplete="off" class="form-control" />
          <p class="help-block">{% trans %}Leave both fields blank to keep your current password.{% endtrans %}</p>
        </div>
      </div>
      <div class="form-group">
        <label for="api_key" class="col-sm-2 control-label">
          {% trans %}API Key{% endtrans %}
        </label>
        <div class="col-sm-10">
          <input class="form-control" name="api_key" readonly>
          <p class="help-block">
            {% trans %}Use this key to access the OpenSpending API programmatically.{% endtrans %}
          </p>
        </div>
      </div>

      <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
          <button type="submit" class="btn btn-default">{% trans %}Save{% endtrans %}</button>
        </div>
      </div>
    </form>
    {% endformfill %}
  </div>
</div>

{% endblock %}
