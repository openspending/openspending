Translation workflow:

Update .pot file from source:

$ pybabel extract -F babel.cfg -k lazy_gettext -o openspending/translations/messages.pot openspending

Examine the .pot (or at least its diff) for bogus messages, and fix up any
errors in the source. Pay particular attention to templates.

Commit the updated .pot

Update .po files from .pot:

$ pybabel update -i messages.pot -d openspending/translations

Ship .po files off for translation

edit bin/update_translations ; you must
list each language code on a separate line.

Once you have configured the supported languages, run

bin/update_translations
